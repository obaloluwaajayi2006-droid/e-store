<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>E-store — Order Successful</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root {
      --brand: #583BFF;
      --primary: #6b4eff;
      --muted: #6b6b7a
    }

    body {
      font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: #f6f7fb;
      color: #111
    }

    .success-wrap {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px
    }

    .success-card {
      max-width: 520px;
      /* reduced width for a tighter receipt layout */
      width: 100%;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 12px 40px rgba(16, 24, 40, 0.08);
      overflow: hidden;
      margin: 0 12px;
    }

    .success-body {
      padding: 8px
    }

    .success-icon {
      width: 96px;
      height: 96px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--brand), var(--primary));
      color: #fff;
      font-size: 48px;
      box-shadow: 0 8px 24px rgba(88, 59, 255, 0.18)
    }

    .muted {
      color: var(--muted)
    }

    .ref-box {
      background: #f8fafc;
      border: 1px dashed #e6e9ff;
      padding: 14px;
      border-radius: 8px
    }

    .btn-primary {
      background: var(--primary);
      border-color: var(--primary)
    }

    .animate-in {
      animation: enter .44s cubic-bezier(.2, .8, .2, 1) both
    }

    @keyframes enter {
      from {
        opacity: 0;
        transform: translateY(8px)
      }

      to {
        opacity: 1;
        transform: none
      }
    }

    @media (max-width:576px) {
      .success-body {
        padding: 20px
      }

      .success-icon {
        width: 72px;
        height: 72px;
        font-size: 36px
      }
    }
  </style>
</head>

<body>
  <div class="success-wrap">
    <div class="success-card animate-in">
      <div class="d-flex align-items-center" style="flex-direction: column;">
        <div class="col-6 col-md-6 d-flex align-items-center justify-content-center p-3">
          <div class="text-center">
            <div class="success-icon mb-3" aria-hidden="true">
              <!-- Inline SVG fallback so icon displays even if Bootstrap Icons fails to load -->
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <path d="M20 6L9 17l-5-5"></path>
              </svg>
            </div>
            <h5 class="mb-1">Payment Successful</h5>
            <p class="muted small mb-0">Thank you — your order has been placed.</p>
          </div>
        </div>
        <div class="col-12 col-md-7">
          <div class="success-body">
            <h4 class="mb-2 text-center">Order confirmed</h4>
            <p class="muted text-center">We've sent a confirmation email with the order details. You can view your order
              reference
              below.</p>

            <div class="my-3 ref-box">
              <div class="d-flex justify-content-between align-items-center">
                <div>
                  <div class="small muted">Order reference</div>
                  <div id="orderRef" class="fw-semibold fs-5">—</div>
                </div>
                <div class="text-end">
                  <div class="small muted">Total</div>
                  <div class="fw-semibold">₦ <span id="orderTotal">0</span></div>
                </div>
              </div>
            </div>

            <div class="d-flex gap-2 align-items-center justify-content-center">
              <a href="/index.html" class="btn btn-primary">Continue shopping</a>
              <a href="/index.html" class="btn btn-outline-secondary">View orders</a>
            </div>
            <div class="mt-4 small muted text-center">If you need help, contact our support at <a
                href="mailto:support@estore.example">support@estore.example</a>.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    (function () {
      try {
        const orders = JSON.parse(localStorage.getItem('orders')) || [];
        const lastOrder = orders.length ? orders[orders.length - 1] : null;
        const orderRefEl = document.getElementById('orderRef');
        const orderTotalEl = document.getElementById('orderTotal');

        if (!orderRefEl || !orderTotalEl) return;

        if (lastOrder) {
          const ref = lastOrder.reference || lastOrder.ref || lastOrder.id || '—';
          const total = lastOrder.total || lastOrder.totalPrice || lastOrder.amount || lastOrder.grandTotal || 0;
          orderRefEl.innerText = ref;
          // ensure numeric formatting
          const n = Number(total) || 0;
          orderTotalEl.innerText = n.toLocaleString();
        } else {
          orderRefEl.innerText = 'No order found';
          orderTotalEl.innerText = '0';
        }
      } catch (e) {
        console.warn('Could not read orders from localStorage', e);
        const orderRefEl = document.getElementById('orderRef');
        const orderTotalEl = document.getElementById('orderTotal');
        if (orderRefEl) orderRefEl.innerText = 'No order found';
        if (orderTotalEl) orderTotalEl.innerText = '0';
      }
    })();
  </script>

</body>

</html>